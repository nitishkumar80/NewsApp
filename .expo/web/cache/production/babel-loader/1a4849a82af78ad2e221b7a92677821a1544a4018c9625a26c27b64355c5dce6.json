{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useNavigation}from'@react-navigation/native';import React,{useState,useRef}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Text from\"react-native-web/dist/exports/Text\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Linking from\"react-native-web/dist/exports/Linking\";import{Ionicons}from'@expo/vector-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var navigation=useNavigation();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchResults=_useState4[0],setSearchResults=_useState4[1];var inputRef=useRef(null);var handleSearch=function(){var _ref=_asyncToGenerator(function*(){try{var apiKey='5ddb2c05e471410fb2a3b79ec822dff9';var response=yield fetch(`https://newsapi.org/v2/everything?q=${searchText}&apiKey=${apiKey}`);if(!response.ok){throw new Error('Network response was not ok');}var data=yield response.json();if(!data||!data.articles||!Array.isArray(data.articles)){throw new Error('Invalid data structure received');}setSearchResults(data.articles);setSearchText('');if(inputRef.current){inputRef.current.clear();}navigation.navigate('SearchResult',{searchResults:data.articles});}catch(error){console.error('Error searching for news:',error);setSearchResults([]);}});return function handleSearch(){return _ref.apply(this,arguments);};}();var renderNewsItem=function renderNewsItem(_ref2){var item=_ref2.item;return _jsxs(View,{style:styles.newsItem,children:[_jsx(Text,{style:styles.newsTitle,children:item.title}),_jsx(Text,{style:styles.newsDescription,children:item.description})]});};return _jsxs(View,{style:styles.container,children:[_jsxs(View,{style:styles.searchContainer,children:[_jsx(TextInput,{ref:inputRef,style:styles.input,placeholder:\"Search news...\",value:searchText,onChangeText:function onChangeText(text){return setSearchText(text);},onSubmitEditing:handleSearch}),_jsxs(TouchableOpacity,{onPress:handleSearch,style:styles.searchButton,children:[_jsx(Ionicons,{name:\"search\",size:24,color:\"white\"}),_jsx(Text,{style:{color:'white'},children:\"Search\"})]})]}),_jsx(View,{style:styles.resultContainer,children:searchResults.length>0?_jsx(FlatList,{data:searchResults,renderItem:renderNewsItem,keyExtractor:function keyExtractor(item,index){return index.toString();}}):_jsx(Text,{style:styles.noResultsText,children:\"No results found\"})})]});};var styles=StyleSheet.create({container:{flex:1,paddingHorizontal:16,paddingTop:30},searchContainer:{flexDirection:'row',alignItems:'center',paddingBottom:10,marginBottom:20},input:{flex:1,height:40,width:200,borderWidth:1,borderColor:'#CCCCCC',borderRadius:5,paddingHorizontal:10,marginRight:10},searchButton:{flexDirection:'row',alignItems:'center',padding:10,width:100,height:40,borderRadius:5,backgroundColor:'#007AFF',justifyContent:'space-around'},resultContainer:{flex:1},newsItem:{padding:10,borderBottomWidth:1,borderBottomColor:'#CCCCCC'},newsTitle:{fontSize:16,fontWeight:'bold',marginBottom:5},newsDescription:{},noResultsText:{textAlign:'center',marginTop:20,fontSize:18}});export default Search;","map":{"version":3,"names":["useNavigation","React","useState","useRef","StyleSheet","View","TextInput","TouchableOpacity","Text","FlatList","Linking","Ionicons","jsx","_jsx","jsxs","_jsxs","Search","navigation","_useState","_useState2","_slicedToArray","searchText","setSearchText","_useState3","_useState4","searchResults","setSearchResults","inputRef","handleSearch","_ref","_asyncToGenerator","apiKey","response","fetch","ok","Error","data","json","articles","Array","isArray","current","clear","navigate","error","console","apply","arguments","renderNewsItem","_ref2","item","style","styles","newsItem","children","newsTitle","title","newsDescription","description","container","searchContainer","ref","input","placeholder","value","onChangeText","text","onSubmitEditing","onPress","searchButton","name","size","color","resultContainer","length","renderItem","keyExtractor","index","toString","noResultsText","create","flex","paddingHorizontal","paddingTop","flexDirection","alignItems","paddingBottom","marginBottom","height","width","borderWidth","borderColor","borderRadius","marginRight","padding","backgroundColor","justifyContent","borderBottomWidth","borderBottomColor","fontSize","fontWeight","textAlign","marginTop"],"sources":["/Users/nitish/NewsApp/component/page/Search.js"],"sourcesContent":["// import React, { useState, useRef } from 'react';\n// import { StyleSheet, View, TextInput, TouchableOpacity, Text } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n\n// const Search = () => {\n//   const [searchText, setSearchText] = useState('');\n//   const inputRef = useRef(null);\n\n//   const handleSearch = () => {\n//     // Implement your search functionality here using 'searchText'\n//     console.log('Searching for:', searchText);\n//     // You might perform an API call or any other logic with the search text\n\n//     // Clear input field after search\n//     setSearchText('');\n//     if (inputRef.current) {\n//       inputRef.current.clear();\n//     }\n//   };\n\n//   return (\n//     <View style={styles.container}>\n//       <View style={styles.searchContainer}>\n//         <TextInput\n//           ref={inputRef}\n//           style={styles.input}\n//           placeholder=\"Search news...\"\n//           value={searchText}\n//           onChangeText={(text) => setSearchText(text)}\n//           onSubmitEditing={handleSearch}\n//         />\n//         <TouchableOpacity onPress={handleSearch} style={styles.searchButton}>\n//           <Ionicons name=\"search\" size={24} color=\"white\" />\n//           <Text style={{ color: 'white' }}>Search</Text>\n//         </TouchableOpacity>\n//       </View>\n//       {/* Other components related to displaying news or search results */}\n//     </View>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     paddingHorizontal: 16,\n//     paddingTop: 30,\n//     // Other styles for your container\n//   },\n//   searchContainer: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     paddingBottom: 10,\n//     marginBottom: 20,\n//     // Other styles for your search container\n//   },\n//   input: {\n//     flex: 1,\n//     height: 40,\n//     width: 200,\n//     borderWidth: 1,\n//     borderColor: '#CCCCCC',\n//     borderRadius: 5,\n//     paddingHorizontal: 10,\n//     marginRight: 10,\n//     // Other styles for your input\n//   },\n//   searchButton: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     padding: 10,\n//     width: 100,\n//     height: 40,\n//     borderRadius: 5,\n//     backgroundColor: '#007AFF',\n//     justifyContent: 'space-around', // Adjust alignment for text and icon\n//   },\n//   searchButtonText: {\n//     color: 'white',\n//     // Other styles for your search button text\n//   },\n// });\n\n// export default Search;\n\n\n\n\n\n\nimport { useNavigation } from '@react-navigation/native';\n\nimport React, { useState, useRef } from 'react';\nimport { StyleSheet, View, TextInput, TouchableOpacity, Text, FlatList, Linking } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\n\nconst Search = () => {\n  const navigation = useNavigation();\n\n  const [searchText, setSearchText] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const inputRef = useRef(null);\n\n  const handleSearch = async () => {\n    try {\n      const apiKey = '5ddb2c05e471410fb2a3b79ec822dff9'; // Replace with your NewsAPI key\n      const response = await fetch(\n        `https://newsapi.org/v2/everything?q=${searchText}&apiKey=${apiKey}`\n      );\n  \n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n  \n      const data = await response.json();\n  \n      if (!data || !data.articles || !Array.isArray(data.articles)) {\n        throw new Error('Invalid data structure received');\n      }\n  \n      setSearchResults(data.articles);\n  \n      // Clear input field after search\n      setSearchText('');\n      if (inputRef.current) {\n        inputRef.current.clear();\n      }\n  \n      // Navigate to SearchResultScreen with searchResults\n      navigation.navigate('SearchResult', { searchResults: data.articles });\n    } catch (error) {\n      console.error('Error searching for news:', error);\n      // Handle error cases or display a message to the user\n      setSearchResults([]);\n    }\n  };\n  \n  \n  const renderNewsItem = ({ item }) => (\n    <View style={styles.newsItem}>\n      <Text style={styles.newsTitle}>{item.title}</Text>\n      <Text style={styles.newsDescription}>{item.description}</Text>\n      {/* Add other news item information to display */}\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.searchContainer}>\n        <TextInput\n          ref={inputRef}\n          style={styles.input}\n          placeholder=\"Search news...\"\n          value={searchText}\n          onChangeText={(text) => setSearchText(text)}\n          onSubmitEditing={handleSearch}\n        />\n        <TouchableOpacity onPress={handleSearch} style={styles.searchButton}>\n          <Ionicons name=\"search\" size={24} color=\"white\" />\n          <Text style={{ color: 'white' }}>Search</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={styles.resultContainer}>\n        {searchResults.length > 0 ? (\n          <FlatList\n            data={searchResults}\n            renderItem={renderNewsItem}\n            keyExtractor={(item, index) => index.toString()}\n          />\n        ) : (\n          <Text style={styles.noResultsText}>No results found</Text>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 16,\n    paddingTop: 30,\n    // Other styles for your container\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingBottom: 10,\n    marginBottom: 20,\n    // Other styles for your search container\n  },\n  input: {\n    flex: 1,\n    height: 40,\n    width: 200,\n    borderWidth: 1,\n    borderColor: '#CCCCCC',\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    marginRight: 10,\n    // Other styles for your input\n  },\n  searchButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 10,\n    width: 100,\n    height: 40,\n    borderRadius: 5,\n    backgroundColor: '#007AFF',\n    justifyContent: 'space-around', // Adjust alignment for text and icon\n  },\n  resultContainer: {\n    flex: 1,\n  },\n  newsItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#CCCCCC',\n    // Other styles for your news item\n  },\n  newsTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    // Other styles for your news title\n  },\n  newsDescription: {\n    // Styles for description\n  },\n  noResultsText: {\n    textAlign: 'center',\n    marginTop: 20,\n    fontSize: 18,\n    // Other styles for no results text\n  },\n});\n\nexport default Search;\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}