{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useNavigation } from '@react-navigation/native';\nimport React, { useState, useRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Search = function Search() {\n  var navigation = useNavigation();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchText = _useState2[0],\n    setSearchText = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchResults = _useState4[0],\n    setSearchResults = _useState4[1];\n  var inputRef = useRef(null);\n  var handleSearch = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var apiKey = '5ddb2c05e471410fb2a3b79ec822dff9';\n        var response = yield fetch(`https://newsapi.org/v2/everything?q=${searchText}&apiKey=${apiKey}`);\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        var data = yield response.json();\n        if (!data || !data.articles || !Array.isArray(data.articles)) {\n          throw new Error('Invalid data structure received');\n        }\n        setSearchResults(data.articles);\n        setSearchText('');\n        if (inputRef.current) {\n          inputRef.current.clear();\n        }\n        navigation.navigate('SearchResult', {\n          searchResults: data.articles\n        });\n      } catch (error) {\n        console.error('Error searching for news:', error);\n        setSearchResults([]);\n      }\n    });\n    return function handleSearch() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var renderNewsItem = function renderNewsItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(View, {\n      style: styles.newsItem,\n      children: [_jsx(Text, {\n        style: styles.newsTitle,\n        children: item.title\n      }), _jsx(Text, {\n        style: styles.newsDescription,\n        children: item.description\n      })]\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.searchContainer,\n      children: [_jsx(TextInput, {\n        ref: inputRef,\n        style: styles.input,\n        placeholder: \"Search news...\",\n        value: searchText,\n        onChangeText: function onChangeText(text) {\n          return setSearchText(text);\n        },\n        onSubmitEditing: handleSearch\n      }), _jsxs(TouchableOpacity, {\n        onPress: handleSearch,\n        style: styles.searchButton,\n        children: [_jsx(Ionicons, {\n          name: \"search\",\n          size: 24,\n          color: \"white\"\n        }), _jsx(Text, {\n          style: {\n            color: 'white'\n          },\n          children: \"Search\"\n        })]\n      })]\n    }), _jsx(View, {\n      style: styles.resultContainer,\n      children: searchResults.length > 0 ? _jsx(FlatList, {\n        data: searchResults,\n        renderItem: renderNewsItem,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        }\n      }) : _jsx(Text, {\n        style: styles.noResultsText,\n        children: \"No results found\"\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 16,\n    paddingTop: 30\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingBottom: 10,\n    marginBottom: 20\n  },\n  input: {\n    flex: 1,\n    height: 40,\n    width: 200,\n    borderWidth: 1,\n    borderColor: '#CCCCCC',\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    marginRight: 10\n  },\n  searchButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 10,\n    width: 100,\n    height: 40,\n    borderRadius: 5,\n    backgroundColor: '#007AFF',\n    justifyContent: 'space-around'\n  },\n  resultContainer: {\n    flex: 1\n  },\n  newsItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#CCCCCC'\n  },\n  newsTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  newsDescription: {},\n  noResultsText: {\n    textAlign: 'center',\n    marginTop: 20,\n    fontSize: 18\n  }\n});\nexport default Search;","map":{"version":3,"names":["useNavigation","React","useState","useRef","StyleSheet","View","TextInput","TouchableOpacity","Text","FlatList","Linking","Ionicons","jsx","_jsx","jsxs","_jsxs","Search","navigation","_useState","_useState2","_slicedToArray","searchText","setSearchText","_useState3","_useState4","searchResults","setSearchResults","inputRef","handleSearch","_ref","_asyncToGenerator","apiKey","response","fetch","ok","Error","data","json","articles","Array","isArray","current","clear","navigate","error","console","apply","arguments","renderNewsItem","_ref2","item","style","styles","newsItem","children","newsTitle","title","newsDescription","description","container","searchContainer","ref","input","placeholder","value","onChangeText","text","onSubmitEditing","onPress","searchButton","name","size","color","resultContainer","length","renderItem","keyExtractor","index","toString","noResultsText","create","flex","paddingHorizontal","paddingTop","flexDirection","alignItems","paddingBottom","marginBottom","height","width","borderWidth","borderColor","borderRadius","marginRight","padding","backgroundColor","justifyContent","borderBottomWidth","borderBottomColor","fontSize","fontWeight","textAlign","marginTop"],"sources":["/Users/nitish/NewsApp/component/page/Search.js"],"sourcesContent":["// import React, { useState, useRef } from 'react';\n// import { StyleSheet, View, TextInput, TouchableOpacity, Text } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n\n// const Search = () => {\n//   const [searchText, setSearchText] = useState('');\n//   const inputRef = useRef(null);\n\n//   const handleSearch = () => {\n//     // Implement your search functionality here using 'searchText'\n//     console.log('Searching for:', searchText);\n//     // You might perform an API call or any other logic with the search text\n\n//     // Clear input field after search\n//     setSearchText('');\n//     if (inputRef.current) {\n//       inputRef.current.clear();\n//     }\n//   };\n\n//   return (\n//     <View style={styles.container}>\n//       <View style={styles.searchContainer}>\n//         <TextInput\n//           ref={inputRef}\n//           style={styles.input}\n//           placeholder=\"Search news...\"\n//           value={searchText}\n//           onChangeText={(text) => setSearchText(text)}\n//           onSubmitEditing={handleSearch}\n//         />\n//         <TouchableOpacity onPress={handleSearch} style={styles.searchButton}>\n//           <Ionicons name=\"search\" size={24} color=\"white\" />\n//           <Text style={{ color: 'white' }}>Search</Text>\n//         </TouchableOpacity>\n//       </View>\n//       {/* Other components related to displaying news or search results */}\n//     </View>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     paddingHorizontal: 16,\n//     paddingTop: 30,\n//     // Other styles for your container\n//   },\n//   searchContainer: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     paddingBottom: 10,\n//     marginBottom: 20,\n//     // Other styles for your search container\n//   },\n//   input: {\n//     flex: 1,\n//     height: 40,\n//     width: 200,\n//     borderWidth: 1,\n//     borderColor: '#CCCCCC',\n//     borderRadius: 5,\n//     paddingHorizontal: 10,\n//     marginRight: 10,\n//     // Other styles for your input\n//   },\n//   searchButton: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     padding: 10,\n//     width: 100,\n//     height: 40,\n//     borderRadius: 5,\n//     backgroundColor: '#007AFF',\n//     justifyContent: 'space-around', // Adjust alignment for text and icon\n//   },\n//   searchButtonText: {\n//     color: 'white',\n//     // Other styles for your search button text\n//   },\n// });\n\n// export default Search;\n\n\n\n\n\n\nimport { useNavigation } from '@react-navigation/native';\n\nimport React, { useState, useRef } from 'react';\nimport { StyleSheet, View, TextInput, TouchableOpacity, Text, FlatList, Linking } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\n\nconst Search = () => {\n  const navigation = useNavigation();\n\n  const [searchText, setSearchText] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const inputRef = useRef(null);\n\n  const handleSearch = async () => {\n    try {\n      const apiKey = '5ddb2c05e471410fb2a3b79ec822dff9'; // Replace with your NewsAPI key\n      const response = await fetch(\n        `https://newsapi.org/v2/everything?q=${searchText}&apiKey=${apiKey}`\n      );\n  \n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n  \n      const data = await response.json();\n  \n      if (!data || !data.articles || !Array.isArray(data.articles)) {\n        throw new Error('Invalid data structure received');\n      }\n  \n      setSearchResults(data.articles);\n  \n      // Clear input field after search\n      setSearchText('');\n      if (inputRef.current) {\n        inputRef.current.clear();\n      }\n  \n      // Navigate to SearchResultScreen with searchResults\n      navigation.navigate('SearchResult', { searchResults: data.articles });\n    } catch (error) {\n      console.error('Error searching for news:', error);\n      // Handle error cases or display a message to the user\n      setSearchResults([]);\n    }\n  };\n  \n  \n  const renderNewsItem = ({ item }) => (\n    <View style={styles.newsItem}>\n      <Text style={styles.newsTitle}>{item.title}</Text>\n      <Text style={styles.newsDescription}>{item.description}</Text>\n      {/* Add other news item information to display */}\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.searchContainer}>\n        <TextInput\n          ref={inputRef}\n          style={styles.input}\n          placeholder=\"Search news...\"\n          value={searchText}\n          onChangeText={(text) => setSearchText(text)}\n          onSubmitEditing={handleSearch}\n        />\n        <TouchableOpacity onPress={handleSearch} style={styles.searchButton}>\n          <Ionicons name=\"search\" size={24} color=\"white\" />\n          <Text style={{ color: 'white' }}>Search</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={styles.resultContainer}>\n        {searchResults.length > 0 ? (\n          <FlatList\n            data={searchResults}\n            renderItem={renderNewsItem}\n            keyExtractor={(item, index) => index.toString()}\n          />\n        ) : (\n          <Text style={styles.noResultsText}>No results found</Text>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 16,\n    paddingTop: 30,\n    // Other styles for your container\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingBottom: 10,\n    marginBottom: 20,\n    // Other styles for your search container\n  },\n  input: {\n    flex: 1,\n    height: 40,\n    width: 200,\n    borderWidth: 1,\n    borderColor: '#CCCCCC',\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    marginRight: 10,\n    // Other styles for your input\n  },\n  searchButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 10,\n    width: 100,\n    height: 40,\n    borderRadius: 5,\n    backgroundColor: '#007AFF',\n    justifyContent: 'space-around', // Adjust alignment for text and icon\n  },\n  resultContainer: {\n    flex: 1,\n  },\n  newsItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#CCCCCC',\n    // Other styles for your news item\n  },\n  newsTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    // Other styles for your news title\n  },\n  newsDescription: {\n    // Styles for description\n  },\n  noResultsText: {\n    textAlign: 'center',\n    marginTop: 20,\n    fontSize: 18,\n    // Other styles for no results text\n  },\n});\n\nexport default Search;\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}